(()=>{"use strict";(()=>{if(""===localStorage.getItem("library")||null===localStorage.getItem("library")){const e=[],t=0;localStorage.setItem("counter",t),localStorage.setItem("library",e)}})();document.querySelector(".button2").addEventListener("click",(()=>{((e,t,r,a=!1,n=!1)=>{const l={name:document.getElementById("bookName").value,author:document.getElementById("authorName").value,pages:document.getElementById("pagesNumber").value,rd1:document.getElementById("yes"),rd2:document.getElementById("no"),myLibrary:[],read:""};"library"in localStorage&&""!==localStorage.getItem("library")&&(l.myLibrary=JSON.parse(localStorage.getItem("library")));let o=JSON.parse(localStorage.getItem("counter"));const c=o;!0===l.rd1.checked?(a=l.rd1.value,l.read=a):!0===l.rd2.checked?(n=l.rd2.value,l.read=n):l.read="unspecified",l.myLibrary[o]=((e,t,r,a,n)=>({name:e,author:t,pages:r,read:a,num:n}))(l.name,l.author,l.pages,l.read,c),o+=1,localStorage.setItem("library",JSON.stringify(l.myLibrary)),localStorage.setItem("counter",JSON.stringify(o))})()})),document.querySelector(".button1").addEventListener("click",(()=>{document.getElementById("form").style.display="block"})),document.querySelector(".button3").addEventListener("click",(()=>{document.getElementById("form").style.display="none"})),(()=>{const e=JSON.parse(localStorage.getItem("library")),t=document.getElementById("contn");for(let r=0;r<e.length;r+=1){const a=document.createElement("div"),n=document.createElement("h1"),l=document.createElement("h2"),o=document.createElement("h2"),c=document.createElement("h3"),d=document.createElement("button"),m=document.createElement("button"),i=e[r].num;n.textContent=e[r].name,l.textContent=e[r].author,o.textContent=e[r].pages,c.textContent=e[r].read,d.textContent="remove",m.textContent="read/unread",t.setAttribute("class","row"),a.setAttribute("class","col-lg-4 book"),d.setAttribute("class","btn btn-primary"),m.setAttribute("class","btn btn-primary"),d.addEventListener("click",(()=>{let e=JSON.parse(localStorage.getItem("library"));1===e.length&&(e=[]),e.splice(i,1),r-=1,t.removeChild(a),localStorage.setItem("library",JSON.stringify(e)),localStorage.setItem("counter",JSON.stringify(r))})),m.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("library"));"Yes I have read it"===c.textContent?(c.textContent="No I haven't read it",e[i].read="No I haven't read it",localStorage.setItem("library",JSON.stringify(e))):(c.textContent="Yes I have read it",e[i].read="Yes I have read it",localStorage.setItem("library",JSON.stringify(e)))})),a.appendChild(n),a.appendChild(l),a.appendChild(o),a.appendChild(c),a.appendChild(d),a.appendChild(m),t.appendChild(a)}})()})();